<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Matrícula</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<div th:replace="fragments :: menu"></div>
<div class="container">
    <h2 th:text="${matricula.id} != null ? 'Editar Matrícula' : 'Nova Matrícula'"></h2>
    <form th:action="@{/matriculas/salvar}" th:object="${matricula}" method="post">
        <input type="hidden" th:field="*{id}">

        <label for="aluno">Aluno</label>
        <select id="aluno" th:field="*{aluno.id}" required>
            <option value="" disabled th:selected="${matricula.aluno == null}">Selecione</option>
            <option th:each="aluno : ${alunos}" th:value="${aluno.id}" th:text="${aluno.nome}"></option>
        </select>
        <span th:if="${#fields.hasErrors('aluno')}" th:errors="*{aluno}" class="alert alert-error"></span>

        <label for="disciplina">Disciplina</label>
        <select id="disciplina" th:field="*{disciplina.id}" required>
            <option value="" disabled th:selected="${matricula.disciplina == null}">Selecione</option>
            <option th:each="disciplina : ${disciplinas}" th:value="${disciplina.id}" th:text="${disciplina.nome}"></option>
        </select>
        <span th:if="${#fields.hasErrors('disciplina')}" th:errors="*{disciplina}" class="alert alert-error"></span>

        <label for="dataMatricula">Data da Matrícula</label>
        <input id="dataMatricula" type="date" th:field="*{dataMatricula}">

        <label for="status">Status</label>
        <select id="status" th:field="*{status}">
            <option th:each="status : ${statusMatriculas}" th:value="${status}" th:text="${status}"></option>
        </select>

        <label for="notaFinal">Nota Final</label>
        <input id="notaFinal" type="number" step="0.1" th:field="*{notaFinal}">

        <div th:if="${#fields.hasGlobalErrors()}" class="alert alert-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}"></div>

        <button class="btn btn-primary" type="submit">Salvar</button>
        <a class="btn" th:href="@{/matriculas}">Cancelar</a>
    </form>
</div>
</body>
</html>
